<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Cobrinh4</title>
	<link rel="stylesheet" href="estilo1.css">
	<link rel="stylesheet" href="estilo2.css">
</head>
<body>
<input type="checkbox" id="menubut">
    <label for="menubut"><img class="menubut" src="imagens/menubut.svg">
    </label>
    <nav>
        <ul>
            <li><a href="index.html">In√≠cio</a></li>
            <li><a href="projetos.html">Trabalhos</a></li>
            <li><a href="contatos.html">Contato</a></li>
            <li><a href="jogo.html">Jogos(Beta)</a></li>
        </ul>
    </nav>
    <br>
    <br>
    <br>
    <center><h2 class="cob"><mark>O jogo da Cobrinh4</mark></h2></center>
<div>
<canvas class="centro"id="stage" width="600" height="600"></canvas>
<script type="text/javascript">
	window.onload = function(){
		var stage = document.getElementById('stage');
		var ctx = stage.getContext("2d");
        document.addEventListener ("keydown", keyPush);
		setInterval(game, 85);
		const vel = 1; 
		var vx = vy = 0;
        var px = 10;
        var py = 15;
        var tp = 30;
        var qp = 20;
        var ax = ay = 15;
		var trail = []; 
		tail = 5;

		function game() {
        px += vx;
        py += vy;
        if (px < 0 )  {
        px = qp- 1 ;
        }
        if ( px> qp-1) {
        px = 0;
        }
        if (py < 0 )  {
        py = qp- 1 ;
        }
        if ( py> qp-1) {
        py = 0;
        }


		    ctx.fillStyle = "#4BA658";
		    ctx.fillRect (0,0, stage.width, stage.height);

		    ctx.fillStyle = img="red";
		    ctx.fillRect (ax*tp, ay*tp, tp,tp);

		    ctx.fillStyle = "#458C4F";
		    for (var i = 0; i <trail.length; i ++ ){
                    ctx.fillRect ( trail [ i ] .x * tp, trail [ i ] .y * tp, tp- 1 , tp- 1 ) ;
                    if ( trail [ i ] .x == px && trail [ i ] .y == py ){
		    	vx = vy =0;
		    	tail = 5;
		    }
	        }

             trail.push ( { x: px, y: py } )
             while (trail.length > tail)
             {
             	trail.shift();
             }
             if (ax==px && ay==py){
             	tail++; 
             	ax = Math.floor(Math.random()*qp);
             	ay = Math.floor(Math.random()*qp);
             }
         }

             function keyPush(event){
			switch(event.keyCode){
			case 37: 
		    vx = -vel;
		    vy = 0;
            break;
            case 38:
            vx = 0;
            vy = -vel;
            break;
            case 39:
            vx = vel;
            vy = 0;
            break;
            case 40:
            vx = 0;
            vy = vel;
            break;
            default:
            break;
           }
        }
	 }
</script>
</div>
</body>
</html>